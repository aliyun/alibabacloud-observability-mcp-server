# é˜¿é‡Œäº‘å¯è§‚æµ‹æ€§ MCP Server Release Note

*å‘å¸ƒæ—¶é—´ï¼š2025å¹´09æœˆ09æ—¥*

> **âš ï¸ Betaç‰ˆæœ¬å£°æ˜**  
> å½“å‰ç‰ˆæœ¬ä¸ºBetaæµ‹è¯•ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å’ŒAPIå¯èƒ½ä¼šæœ‰è°ƒæ•´ã€‚å®é™…èƒ½åŠ›å’Œç¨³å®šæ€§ä»¥æœ€ç»ˆæ­£å¼å‘å¸ƒç‰ˆæœ¬ä¸ºå‡†ã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

é˜¿é‡Œäº‘å¯è§‚æµ‹æ€§MCP Serveræ˜¯ä¸€ä¸ªåŸºäº**Model Context Protocol (MCP)** æ ‡å‡†çš„æ™ºèƒ½å¯è§‚æµ‹æ€§æœåŠ¡ï¼Œä¸ºAIåŠ©æ‰‹æä¾›ä¸é˜¿é‡Œäº‘å¯è§‚æµ‹æ€§æœåŠ¡ï¼ˆSLSã€ARMSã€CMSï¼‰çš„æ·±åº¦é›†æˆèƒ½åŠ›ã€‚


---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„ç†å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Agent å±‚ (AI & Insight)                  â”‚
â”‚  ğŸ¤– 1ä¸ªæ™ºèƒ½å·¥å…· - è‡ªç„¶è¯­è¨€æ¥å£ï¼Œä¸€å¥è¯è§£å†³å¤æ‚é—®é¢˜             â”‚
â”‚     agent_insight                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PaaS å±‚ (Platform API)                   â”‚
â”‚  ğŸ”§ 14ä¸ªç»“æ„åŒ–API - æ ‡å‡†åŒ–æ¥å£ï¼Œéœ€è¦å¤šå·¥å…·ç»„åˆä½¿ç”¨            â”‚
â”‚     å®ä½“ç®¡ç†(3) + æ•°æ®é›†ç®¡ç†(3) + æ•°æ®æŸ¥è¯¢(8)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              IaaS å±‚ (Raw Data Storage Query)              â”‚
â”‚  âš™ï¸ 6ä¸ªåŸå§‹æŸ¥è¯¢å·¥å…· - é¢å‘LogStore/MetricStoreå­˜å‚¨           â”‚
â”‚     ç‹¬ç«‹äºäº‘ç›‘æ§2.0ï¼Œç›´æ¥SQL/PromQLè®¿é—®                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å…±äº«å±‚ (Shared Utils)                    â”‚
â”‚  ğŸ”— 2ä¸ªé€šç”¨å·¥å…· - è·¨å±‚å…±äº«çš„åŸºç¡€æœåŠ¡                        â”‚
â”‚     å·¥ä½œç©ºé—´ç®¡ç†ã€åŸŸå‘ç°ç­‰                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸‰å±‚å·®å¼‚ç®€è¿°

**ğŸ¤– Agentå±‚ - æœ€ç®€å•**
> åƒå’Œä¸“å®¶å¯¹è¯ä¸€æ ·ï¼Œç”¨è‡ªç„¶è¯­è¨€é—®é—®é¢˜å°±èƒ½å¾—åˆ°æ•°æ®ï¼Œä¸éœ€è¦çŸ¥é“UMODEL APIå¦‚ä½•ä½¿ç”¨ï¼Œä¹Ÿä¸éœ€è¦æ‡‚ä»»ä½•æŠ€æœ¯ç»†èŠ‚ã€‚

**ğŸ”§ PaaSå±‚ - ä¸­ç­‰éš¾åº¦**  
> æä¾›ç°æˆçš„æ ‡å‡†å·¥å…·ï¼Œä½†éœ€è¦å¤šä¸ªå·¥å…·ç»„åˆæ‰èƒ½å®Œæˆå¤æ‚åˆ†æï¼Œéœ€è¦ç†è§£å·¥å…·é—´çš„ä¾èµ–å…³ç³»å’Œä½¿ç”¨é¡ºåºã€‚

**âš™ï¸ IaaSå±‚ - æœ€çµæ´»**
> ç›´æ¥å†™SQLæŸ¥è¯¢è¯­å¥ï¼Œæƒ³æŸ¥ä»€ä¹ˆéƒ½å¯ä»¥ï¼Œä½†éœ€è¦æ‡‚æŸ¥è¯¢è¯­æ³•å’Œæ•°æ®ç»“æ„ã€‚

---

**ç®€å•å¯¹æ¯”**ï¼š
- **Agentå±‚**ï¼šé—®"è¿™ä¸ªæœåŠ¡æœ‰é—®é¢˜å—ï¼Ÿ" â†’ ç›´æ¥å¾—åˆ°ç­”æ¡ˆï¼ˆä¸€æ­¥æå®šï¼‰
- **PaaSå±‚**ï¼šå…ˆè·å–å®ä½“åˆ—è¡¨ â†’ å†è·å–æŒ‡æ ‡æ•°æ® â†’ å†è·å–æ—¥å¿—æ•°æ® â†’ ç»„åˆåˆ†æï¼ˆå¤šæ­¥ç»„åˆï¼‰
- **IaaSå±‚**ï¼šå†™SQLè¯­å¥ â†’ ç›´æ¥æŸ¥è¯¢æ•°æ®åº“ â†’ è‡ªå·±å¤„ç†ç»“æœï¼ˆå®Œå…¨è‡ªå®šä¹‰ï¼‰

---

## ğŸ› ï¸ å·¥å…·æ¸…å•

### Agentå±‚ - AIé©±åŠ¨æ™ºèƒ½æ´å¯Ÿ

**æ€»è®¡**: 1ä¸ªå·¥å…·

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | æ ¸å¿ƒç‰¹æ€§ |
|---------|----------|----------|
| `agent_insight` | ğŸ¤– ç»Ÿä¸€æ™ºèƒ½æ´å¯Ÿåˆ†æ | â€¢ è‡ªç„¶è¯­è¨€é—®ç­”<br>â€¢ è‡ªåŠ¨é€‰æ‹©æ•°æ®æº<br>â€¢ è·¨æ¨¡æ€ç»¼åˆåˆ†æ<br>â€¢ æ™ºèƒ½æ¨ç†å’Œå»ºè®® |

**ä½¿ç”¨åœºæ™¯ç¤ºä¾‹**ï¼š
- "payment-serviceæœ€è¿‘æœ‰ä»€ä¹ˆé”™è¯¯æ—¥å¿—ï¼Ÿ"
- "è·å–ç”¨æˆ·ç™»å½•æœåŠ¡çš„å“åº”æ—¶é—´æ•°æ®"
- "æŸ¥è¯¢è¿™ä¸ªæœåŠ¡çš„CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µ"

**âš ï¸ ä½¿ç”¨é™åˆ¶**ï¼š
- **åŠŸèƒ½èŒƒå›´**ï¼šç›®å‰ä»¥å–æ•°ä¸ºä¸»ï¼Œæš‚ä¸æä¾›å¤æ‚çš„åˆ†æç±»é—®é¢˜å¤„ç†
- **ä¾èµ–è¦æ±‚**ï¼šéœ€è¦å‡çº§åˆ°å¯è§‚æµ‹2.0å¹³å°æ‰èƒ½ä½¿ç”¨

### IaaSå±‚ - åŸå§‹æ•°æ®å­˜å‚¨æŸ¥è¯¢

**æ€»è®¡**: 6ä¸ªå·¥å…·

IaaSå±‚æä¾›é¢å‘LogStoreã€MetricStoreç­‰åŸå§‹æ•°æ®å­˜å‚¨çš„ç›´æ¥æŸ¥è¯¢æœåŠ¡ï¼Œæ”¯æŒSQLå’ŒPromQLè¯­æ³•ï¼Œ**å®Œå…¨ç‹¬ç«‹äºäº‘ç›‘æ§2.0**ï¼Œå¯ç›´æ¥è®¿é—®SLSåº•å±‚å­˜å‚¨ï¼Œä¸ºä¸“å®¶ç”¨æˆ·æä¾›æœ€å¤§çš„æŸ¥è¯¢çµæ´»æ€§ã€‚

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å‚æ•° | æ•°æ®æºç±»å‹ |
|---------|----------|-----------|-----------|
| `sls_text_to_sql` | ğŸ”„ è‡ªç„¶è¯­è¨€è½¬SQL | text, project, logStore | LogStoreåŸå§‹æ—¥å¿— |
| `sls_execute_sql` | âš¡ æ‰§è¡ŒSLSæ—¥å¿—æŸ¥è¯¢ | query, from_time, to_time | LogStoreåŸå§‹æ—¥å¿— |
| `cms_execute_promql` | ğŸ“Š æ‰§è¡ŒPromQLæŒ‡æ ‡æŸ¥è¯¢ | query, metricStore | MetricStoreåŸå§‹æŒ‡æ ‡ |
| `sls_execute_spl` | ğŸ”§ æ‰§è¡ŒåŸç”ŸSPLæŸ¥è¯¢ | query, workspace | è·¨å­˜å‚¨ç±»å‹æŸ¥è¯¢ |
| `sls_list_projects` | ğŸ“ åˆ—å‡ºSLSé¡¹ç›® | projectName, regionId | é¡¹ç›®çº§åˆ«ç®¡ç† |
| `sls_list_logstores` | ğŸ“‹ åˆ—å‡ºæ—¥å¿—åº“ | project, logStore | å­˜å‚¨çº§åˆ«å‘ç° |

**âœ… ä½¿ç”¨ä¼˜åŠ¿**ï¼š
- **æ— ä¾èµ–**ï¼šå®Œå…¨ç‹¬ç«‹äºäº‘ç›‘æ§2.0ï¼Œç›´æ¥è®¿é—®SLSåŸå§‹å­˜å‚¨
- **æœ€å¤§çµæ´»æ€§**ï¼šæ”¯æŒä»»æ„SQL/PromQLæŸ¥è¯¢ï¼Œ100%è‡ªå®šä¹‰èƒ½åŠ›

### PaaSå±‚ - åŸºäºUMODELé«˜è´¨é‡APIå°è£…

**æ€»è®¡**: 14ä¸ªå·¥å…· (3ä¸ªå­åŒ…)

PaaSå±‚ç›´æ¥åŸºäºé˜¿é‡Œäº‘ç»Ÿä¸€å¯è§‚æµ‹æ¨¡å‹(UMODEL)çš„é«˜è´¨é‡APIè¿›è¡Œå°è£…ï¼Œæä¾›æ ‡å‡†åŒ–çš„å¯è§‚æµ‹æ€§æ•°æ®è®¿é—®æ¥å£ã€‚UMODELä½œä¸ºé˜¿é‡Œäº‘å¯è§‚æµ‹æ€§çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼Œç»è¿‡ç”Ÿäº§ç¯å¢ƒéªŒè¯ï¼Œå…·å¤‡é«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„ç‰¹ç‚¹ã€‚

**âš ï¸ ä½¿ç”¨é™åˆ¶**ï¼š
- **å¹³å°è¦æ±‚**ï¼šä»…åŸºäºå¯è§‚æµ‹2.0çš„èƒ½åŠ›æä¾›ï¼Œéœ€è¦å‡çº§åˆ°å¯è§‚æµ‹2.0å¹³å°
- **åŠŸèƒ½èŒƒå›´**ï¼šæ‰€æœ‰PaaS APIåŠŸèƒ½éƒ½ä¾èµ–äºå¯è§‚æµ‹2.0çš„åº•å±‚èƒ½åŠ›

#### å®ä½“ç®¡ç†å·¥å…·åŒ…

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | æ ¸å¿ƒå‚æ•° | SPLç¤ºä¾‹ |
|---------|----------|-----------|---------|
| `umodel_get_entities` | ğŸ“¦ è·å–å®ä½“ä¿¡æ¯ | domain, entity_set_name, entity_ids | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_entities() \| limit 20` |
| `umodel_get_neighbor_entities` | ğŸ”— è·å–é‚»å±…å®ä½“ | entity_id, domain, entity_set_name | `.entity_set with(domain='apm', name='apm.service', ids=['service-123']) \| entity-call get_neighbor_entities()` |
| `umodel_search_entities` | ğŸ” æœç´¢å®ä½“ | search_text, domain, entity_set_name | `.entity with(domain='apm', name='apm.service', query='payment') \| limit 20` |

#### æ•°æ®é›†ç®¡ç†å·¥å…·åŒ…

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | æ ¸å¿ƒå‚æ•° | SPLç¤ºä¾‹ |
|---------|----------|-----------|---------|
| `umodel_list_data_set` | ğŸ“Š åˆ—å‡ºæ•°æ®é›†åˆ | domain, entity_set_name, data_set_types | `.entity_set with(domain='apm', name='apm.service') \| entity-call list_data_set(['metric_set'])` |
| `umodel_search_entity_set` | ğŸ” æœç´¢å®ä½“é›†åˆ | search_text, domain, entity_set_name | è¿”å›åŒ¹é…çš„å®ä½“é›†åˆåç§°åˆ—è¡¨ |
| `umodel_list_related_entity_set` | ğŸŒ åˆ—å‡ºç›¸å…³å®ä½“é›†åˆ | domain, entity_set_name, relation_type | `.entity_set with(domain='apm', name='apm.service') \| entity-call list_related_entity_set('dependency', 'both', true)` |

#### æ•°æ®æŸ¥è¯¢å·¥å…·åŒ…

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | æ ¸å¿ƒå‚æ•° | SPLç¤ºä¾‹ |
|---------|----------|-----------|---------|
| `umodel_get_metrics` | ğŸ“ˆ è·å–æ—¶åºæŒ‡æ ‡ | metric_domain_name, metric | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_metric('apm', 'system', 'cpu.usage', 'range', '1m')` |
| `umodel_get_golden_metrics` | â­ è·å–é»„é‡‘æŒ‡æ ‡ | domain, entity_set_name | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_golden_metrics()` |
| `umodel_get_relation_metrics` | ğŸ”— è·å–å…³ç³»æŒ‡æ ‡ | relation_type, metric | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_relation_metrics('call', 'response_time')` |
| `umodel_get_logs` | ğŸ“ è·å–æ—¥å¿—æ•°æ® | log_set_name, log_set_domain | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_logs('application_log')` |
| `umodel_get_events` | ğŸš¨ è·å–äº‹ä»¶æ•°æ® | event_set_name, event_set_domain | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_events()` |
| `umodel_get_traces` | ğŸ”— è·å–é“¾è·¯æ•°æ® | trace_ids, trace_set_name | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_traces('trace-123456')` |
| `umodel_search_traces` | ğŸ” æœç´¢é“¾è·¯æ•°æ® | trace_filter, entity_ids | `.entity_set with(domain='apm', name='apm.service') \| entity-call search_traces()` |
| `umodel_get_profiles` | âš¡ è·å–æ€§èƒ½å‰–æ | profile_type, entity_ids | `.entity_set with(domain='apm', name='apm.service') \| entity-call get_profiles('cpu')` |

### å…±äº«å±‚ - é€šç”¨å·¥å…·

**æ€»è®¡**: 2ä¸ªå·¥å…·

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä¸»è¦ç”¨é€” |
|---------|----------|----------|
| `list_workspace` | ğŸ“‹ åˆ—å‡ºCMSå·¥ä½œç©ºé—´ | ä¸ºå…¶ä»–å·¥å…·æä¾›workspaceå‚æ•° |
| `list_domains` | ğŸ·ï¸ åˆ—å‡ºå®ä½“åŸŸ | å‘ç°å¯ç”¨çš„domainå‚æ•°é€‰é¡¹ |

---

## ğŸ“‹ å·¥å…·ä¾èµ–å…³ç³»

### PaaSå±‚å·¥å…·é“¾æµç¨‹

```mermaid
graph TD
    A[list_domains] --> B[list_entity_types]
    B --> C[umodel_search_entity_set]
    C --> D[umodel_list_data_set]
    D --> E[umodel_get_entities]
    E --> F{é€‰æ‹©æ•°æ®ç±»å‹}
    F -->|æŒ‡æ ‡| G[umodel_get_metrics]
    F -->|æ—¥å¿—| H[umodel_get_logs]
    F -->|é“¾è·¯| I[umodel_get_traces]
    F -->|äº‹ä»¶| J[umodel_get_events]
    F -->|å‰–æ| K[umodel_get_profiles]
```

### å‚æ•°ä¾èµ–é“¾è·¯

1. **åŸºç¡€å‘ç°é“¾è·¯**:
   ```
   list_workspace â†’ è·å–workspace
   â†“
   list_domains â†’ è·å–domainé€‰é¡¹
   â†“
   umodel_search_entity_set â†’ è·å–entity_set_nameé€‰é¡¹
   ```

2. **å®ä½“æŸ¥è¯¢é“¾è·¯**:
   ```
   umodel_search_entity_set â†’ æ‰¾åˆ°ç›®æ ‡å®ä½“é›†åˆ
   â†“
   umodel_get_entities â†’ è·å–entity_ids
   â†“
   umodel_get_metrics/logs/events/traces â†’ ä½¿ç”¨entity_idsæŸ¥è¯¢æ•°æ®
   ```

3. **æ•°æ®æºå‘ç°é“¾è·¯**:
   ```
   umodel_list_data_set(data_set_types="metric_set") â†’ è·å–å¯ç”¨æŒ‡æ ‡é›†åˆ
   â†“
   umodel_get_metrics â†’ ä½¿ç”¨æŒ‡æ ‡åç§°æŸ¥è¯¢æ—¶åºæ•°æ®
   ```

---

## ğŸš€ LLM Agent é›†æˆæŒ‡å—

### åˆ†å±‚ä½¿ç”¨ç­–ç•¥

#### ğŸ¤– Agentå±‚ - æ¨èä¸šåŠ¡ç”¨æˆ·

**ç‰¹ç‚¹**: ä¸€å¥è¯æå®šå¤æ‚åˆ†æï¼Œæ— éœ€æŠ€æœ¯èƒŒæ™¯

```bash
# æ•…éšœæ’æŸ¥
agent_insight(
  query="payment-serviceæœ€è¿‘æœ‰ä»€ä¹ˆé”™è¯¯ï¼Ÿ",
  workspace="prod", 
  entity_domain="apm",
  entity_set_name="apm.service"
)

# æ€§èƒ½åˆ†æ  
agent_insight(
  query="ç”¨æˆ·ç™»å½•ä¸ºä»€ä¹ˆè¿™ä¹ˆæ…¢ï¼Ÿ",
  workspace="prod",
  entity_domain="apm", 
  entity_set_name="apm.service"
)
```

#### ğŸ”§ PaaSå±‚ - æ¨èå¼€å‘è€…ç”¨æˆ·

**ç‰¹ç‚¹**: æ ‡å‡†åŒ–APIï¼Œéœ€è¦å¤šæ­¥éª¤ç»„åˆï¼Œç²¾ç¡®æ§åˆ¶

```bash
# æ­¥éª¤1: å‘ç°å®ä½“
umodel_search_entity_set(search_text="payment")

# æ­¥éª¤2: è·å–å®ä½“åˆ—è¡¨
umodel_get_entities(domain="apm", entity_set_name="apm.service")

# æ­¥éª¤3: æŸ¥è¯¢æŒ‡æ ‡æ•°æ®
umodel_get_metrics(
  domain="apm",
  entity_set_name="apm.service", 
  metric_domain_name="apm.metric.jvm",
  metric="cpu_usage"
)
```

#### âš™ï¸ IaaSå±‚ - æ¨èä¸“å®¶ç”¨æˆ·

**ç‰¹ç‚¹**: æœ€å¤§çµæ´»æ€§ï¼Œéœ€è¦SQL/PromQLçŸ¥è¯†

```bash
# ç”ŸæˆSQL
sls_text_to_sql(
  text="æŸ¥æ‰¾æœ€è¿‘1å°æ—¶çš„é”™è¯¯æ—¥å¿—",
  project="my-project",
  logStore="error-logs"
)

# æ‰§è¡ŒæŸ¥è¯¢
sls_execute_sql(
  project="my-project",
  logStore="error-logs", 
  query="* | where level = 'ERROR'"
)
```

---

## ğŸ¤– LLM Agent + MCP Tool ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: AIåŠ©æ‰‹é©±åŠ¨çš„æ•…éšœæ’æŸ¥

**Agentè§’è‰²**: æ™ºèƒ½è¿ç»´åŠ©æ‰‹  
**å·¥å…·ç»„åˆ**: Agentå±‚ + å¤šå·¥å…·åä½œ

**Agentå¯¹è¯æµç¨‹**:
```
ç”¨æˆ·: "æ”¯ä»˜æœåŠ¡å®•æœºäº†ï¼Œå¸®æˆ‘è·å–ç›¸å…³æ•°æ®"

AIåŠ©æ‰‹: æˆ‘æ¥å¸®ä½ è·å–æ”¯ä»˜æœåŠ¡çš„ç›‘æ§æ•°æ®...
[è°ƒç”¨] agent_insight(query="è·å–payment-serviceçš„å½“å‰çŠ¶æ€æ•°æ®", ...)

AIåŠ©æ‰‹: å·²è·å–åˆ°CPUä½¿ç”¨ç‡æ•°æ®æ˜¾ç¤ºå¼‚å¸¸ï¼Œè®©æˆ‘è·å–ç›¸å…³æ—¥å¿—æ•°æ®...
[è°ƒç”¨] umodel_get_logs(domain="apm", log_set_name="error", ...)

AIåŠ©æ‰‹: æ•°æ®è·å–å®Œæˆï¼Œå‘ç°ï¼š
ğŸ“Š CPUä½¿ç”¨ç‡: 95% (å¼‚å¸¸é«˜)
ğŸ“ é”™è¯¯æ—¥å¿—: å…±245æ¡æ•°æ®åº“è¿æ¥é”™è¯¯
â° æ—¶é—´èŒƒå›´: æœ€è¿‘1å°æ—¶å†…é›†ä¸­çˆ†å‘
```

**âš ï¸ åœºæ™¯é™åˆ¶**ï¼š
- **AgentåŠŸèƒ½**ï¼šç›®å‰ä¸»è¦æä¾›æ•°æ®è·å–ï¼Œå¤æ‚çš„æ ¹å› åˆ†æèƒ½åŠ›æœ‰é™
- **å¹³å°è¦æ±‚**ï¼šéœ€è¦å¯è§‚æµ‹2.0å¹³å°æ”¯æŒ

### åœºæ™¯2: å¤šæ¨¡æ€æ€§èƒ½åˆ†æAgent

**Agentè§’è‰²**: æ€§èƒ½ä¼˜åŒ–ä¸“å®¶  
**å·¥å…·ç»„åˆ**: PaaSå±‚å·¥å…·é“¾ + AIæ¨ç†

```json
// OpenAI Agents SDKé›†æˆ
{
  "agent": {
    "name": "performance-advisor",
    "tools": [
      "umodel_get_golden_metrics",
      "umodel_get_traces", 
      "umodel_search_traces",
      "umodel_get_profiles"
    ]
  }
}
```

**Agentå·¥ä½œæµç¨‹**:
```
ç”¨æˆ·: "ç”µå•†ç³»ç»Ÿå“åº”æ…¢ï¼Œç”¨æˆ·æŠ•è¯‰å¾ˆå¤š"

AIåŠ©æ‰‹: æˆ‘æ¥ç³»ç»Ÿåˆ†ææ€§èƒ½é—®é¢˜...
[è°ƒç”¨] umodel_get_golden_metrics â†’ å‘ç°å»¶è¿ŸP99è¾¾åˆ°5ç§’
[è°ƒç”¨] umodel_search_traces(min_duration_ms=2000) â†’ æ‰¾åˆ°æ…¢è¯·æ±‚
[è°ƒç”¨] umodel_get_traces(trace_ids="slow-traces") â†’ åˆ†æè°ƒç”¨é“¾
[è°ƒç”¨] umodel_get_profiles â†’ è¯†åˆ«CPUçƒ­ç‚¹

AIåŠ©æ‰‹: æ€§èƒ½ç“¶é¢ˆåˆ†æç»“æœï¼š
ğŸ“Š ä¸»è¦é—®é¢˜: æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ä¸è¶³ (å æ€»å»¶è¿Ÿ60%)
ğŸ”§ ä¼˜åŒ–å»ºè®®: æ·»åŠ ç´¢å¼•ã€æŸ¥è¯¢æ”¹å†™ã€ç¼“å­˜ç­–ç•¥
ğŸ“ˆ é¢„æœŸæ”¶ç›Š: å“åº”æ—¶é—´å¯é™ä½70%
```

**âš ï¸ åœºæ™¯é™åˆ¶**ï¼š
- **å¹³å°è¦æ±‚**ï¼šæ‰€æœ‰PaaSå·¥å…·éƒ½éœ€è¦å¯è§‚æµ‹2.0å¹³å°æ”¯æŒ
- **æ•°æ®ä¾èµ–**ï¼šéœ€è¦ç›®æ ‡ç³»ç»Ÿå·²æ¥å…¥UMODELæ•°æ®æ¨¡å‹

### åœºæ™¯3: ä¼ä¸šæ™ºèƒ½ç›‘æ§Agent

**Agentè§’è‰²**: 7x24å°æ—¶ç›‘æ§ä¸“å®¶  
**å·¥å…·ç»„åˆ**: å…¨å±‚çº§å·¥å…· + ä¸»åŠ¨ç›‘æ§

```python
# ä¼ä¸šçº§Agentæ¡†æ¶é›†æˆ (å¦‚LastMile AI mcp-agent)
from mcp_agent import Agent, MCPServer

monitoring_agent = Agent(
    name="enterprise-monitor",
    servers=[
        MCPServer("aliyun-observability", stdio_command=[
            "python", "-m", "mcp_server_aliyun_observability"
        ])
    ]
)
```

**Agentè‡ªä¸»ç›‘æ§æµç¨‹**:
```
å®šæ—¶ä»»åŠ¡: æ¯5åˆ†é’Ÿæ‰§è¡Œå¥åº·æ£€æŸ¥

AIåŠ©æ‰‹: å¼€å§‹ç³»ç»Ÿå·¡æ£€...
[è°ƒç”¨] list_workspace â†’ è·å–æ‰€æœ‰ç¯å¢ƒ
[è°ƒç”¨] list_domains â†’ å‘ç°ç›‘æ§åŸŸ
[è°ƒç”¨] umodel_get_golden_metrics â†’ æ‰¹é‡æ£€æŸ¥æ ¸å¿ƒæŒ‡æ ‡

[æ£€æµ‹åˆ°å¼‚å¸¸]
AIåŠ©æ‰‹: âš ï¸ æ£€æµ‹åˆ°è®¢å•æœåŠ¡å¼‚å¸¸ï¼
[è°ƒç”¨] agent_insight(query="è·å–è®¢å•æœåŠ¡å¼‚å¸¸ç›¸å…³æ•°æ®")
[è°ƒç”¨] umodel_get_events â†’ æŸ¥æ‰¾å…³è”äº‹ä»¶
[è‡ªåŠ¨ç”Ÿæˆæ•°æ®æŠ¥å‘Šå¹¶å‘é€å‘Šè­¦]

AIåŠ©æ‰‹: ğŸ“§ å·²å‘è¿ç»´å›¢é˜Ÿå‘é€ç›‘æ§æ•°æ®æŠ¥å‘Š
```

**âš ï¸ åœºæ™¯é™åˆ¶**ï¼š
- **æ··åˆå·¥å…·é™åˆ¶**ï¼šAgentå’ŒPaaSå·¥å…·éƒ½éœ€è¦å¯è§‚æµ‹2.0å¹³å°
- **åˆ†æèƒ½åŠ›**ï¼šè‡ªåŠ¨åˆ†æä¸»è¦åŸºäºæ•°æ®å¯¹æ¯”å’Œé˜ˆå€¼æ£€æµ‹

---

*æ–‡æ¡£ç‰ˆæœ¬: v2.0*  
*æœ€åæ›´æ–°: 2025å¹´09æœˆ09æ—¥*